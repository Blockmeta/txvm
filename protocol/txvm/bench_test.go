package txvm

import (
	"encoding/base64"
	"testing"
)

const exampleTx = `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`

func BenchmarkExampleTx(b *testing.B) {
	b.StopTimer()
	prog, err := base64.StdEncoding.DecodeString(exampleTx)
	if err != nil {
		b.Fatal(err)
	}
	b.StartTimer()

	for i := 0; i < b.N; i++ {
		_, err := Validate(prog, 3, 16801)
		if err != nil {
			b.Fatal(err)
		}
	}
}
